(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{134:function(e,t,n){e.exports=n(260)},142:function(e,t){},144:function(e,t){},182:function(e,t){},183:function(e,t){},260:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(126),i=n.n(o),c=n(8),l=n(2),u=n(30),s=n.n(u),m=n(1),d=n(6),h=n(24),p=r.a.createContext({});p.displayName="UserContext";var f=p;function g(){var e=Object(l.a)([""]);return g=function(){return e},e}function b(){var e=Object(l.a)(["\nfont-size: ",";\ncolor: ",";\ntop: 50%;\npadding-right: 1rem;\n"]);return b=function(){return e},e}function v(){var e=Object(l.a)(["\ncolor: ",";\ndisplay: flex;\njustify-content: right;\nheight: 100%;\nmargin-left: 1vw;\nalign-items: center;\nflex: 4;\n"]);return v=function(){return e},e}var E=m.b.nav(v(),(function(e){return e.theme.colors.main})),y=Object(m.b)(d.b)(b(),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.secondary})),O=Object(m.b)(y)(g()),j=Object(h.h)((function(e){return r.a.createElement(f.Consumer,null,(function(t){return r.a.createElement(E,null,r.a.createElement(y,{to:"/volunteers"},"Volunteers"),r.a.createElement(y,{to:"/patients"},"Patients"),!t.user.user_name&&r.a.createElement(y,{to:"/signup"},"Sign up"),!t.user.user_name&&r.a.createElement(y,{to:"/signin"},"Sign in"),t.user.user_name&&r.a.createElement(y,{to:"/users/edit"},"My Profile"),t.user.user_name&&r.a.createElement(O,{onClick:function(){return(0,t.setUser)({}),localStorage.removeItem("token"),void e.history.push("/patients")}},"Log Out"))}))})),C=n(50),x=n.n(C);function w(){var e=Object(l.a)(["\n"]);return w=function(){return e},e}function S(){var e=Object(l.a)(["\nwidth: 40px;\nheight: auto;\n"]);return S=function(){return e},e}function k(){var e=Object(l.a)(["\ntext-align: center;\nflex:1;\nheight: 100%;\n"]);return k=function(){return e},e}var P=m.b.div(k()),T=m.b.img(S()),D=Object(m.b)(d.b)(w()),F=function(){return r.a.createElement(P,null,r.a.createElement(D,{to:"/patients"},r.a.createElement(T,{src:x.a})))};function N(){var e=Object(l.a)(["\ndisplay:flex;\nwidth: 100%;\nheight: ",";\n"]);return N=function(){return e},e}var M=m.b.div(N(),(function(e){return e.theme.headerSize})),H=function(){return r.a.createElement(M,null,r.a.createElement(F,null),r.a.createElement(j,null))};function z(){var e=Object(l.a)(["\nfont-size: ",";\ncolor: ",";\nmargin: auto;\n&>a{\ncolor: ",";\n}\n"]);return z=function(){return e},e}function U(){var e=Object(l.a)(["\nwidth: 100%;\ndisplay: flex;\nheight: ",";\njustify-content: space-around;\n"]);return U=function(){return e},e}var L=m.b.div(U(),(function(e){return e.theme.footerSize})),_=m.b.p(z(),(function(e){return e.theme.fontSizes.medium}),(function(e){return e.theme.colors.secondary}),(function(e){return e.theme.colors.secondary})),R=function(){return r.a.createElement(L,null,r.a.createElement(_,null,r.a.createElement("a",{href:"https://guardiome.org"},"Guardiome")," \xa9 2020"),r.a.createElement(_,null,r.a.createElement("a",{href:"mailto:team@guardiome.com"},"Contact Us")))};function q(){var e=Object(l.a)(["\nmax-height: 50px;\nwidth: auto;\n"]);return q=function(){return e},e}function I(){var e=Object(l.a)(["\n display: inline-block;\n animation: "," 1s linear infinite;\n padding: 2rem 1rem;\n"]);return I=function(){return e},e}function V(){var e=Object(l.a)(["\nposition: absolute;\ntop: 50%;\nmargin: auto;\nwidth: 100%;\nheight: 100%;\ntext-align: center;\n"]);return V=function(){return e},e}function W(){var e=Object(l.a)(["\nfrom{\n  transform: rotate(0deg);\n}\n\nto {\n  transform: rotate(360deg);\n}\n"]);return W=function(){return e},e}var A=Object(m.c)(W()),J=m.b.div(V()),$=m.b.div(I(),A),B=m.b.img(q()),G=function(){return r.a.createElement(J,null,r.a.createElement($,null,r.a.createElement(B,{src:x.a})," "))};function K(){var e=Object(l.a)(["\n  background-color: ",";\n  margin-left: 2%;\n  margin-right: 2%;\n  border-radius: 5px;\n  & > * {\n    padding-left: 5px;\n  }\n"]);return K=function(){return e},e}var Q=m.b.div(K(),(function(e){return e.theme.colors.main})),X=function(e){return r.a.createElement(Q,null,r.a.createElement("h2",null,e.name),e.description)},Y=n(131),Z=null,ee=function(e){Z="JWT "+e},te=n.n(Y).a.create({baseURL:"/api/"});te.interceptors.request.use((function(e){return e.headers.Authorization=Z,e}));var ne=te,ae=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!0),l=Object(c.a)(i,2),u=l[0],s=l[1];Object(a.useEffect)((function(){ne.get("/offers").then((function(e){o(e.data),s(!1)})).catch((function(e){}))}),[]);var m=Object(h.g)().url;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{to:"".concat(m,"/new")},"Create Offer"),u?r.a.createElement(G,null):n.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(X,{name:e.name,description:e.description}))})))};function re(){var e=Object(l.a)(["\nfont-size: ","\n"]);return re=function(){return e},e}function oe(){var e=Object(l.a)(["\ncolor:black;\ntext-decoration: none;\n"]);return oe=function(){return e},e}function ie(){var e=Object(l.a)(["\nmargin-left: 2%;\n"]);return ie=function(){return e},e}function ce(){var e=Object(l.a)([""]);return ce=function(){return e},e}var le=m.b.div(ce()),ue=m.b.h1(ie()),se=Object(m.b)(d.b)(oe()),me=m.b.p(re(),(function(e){return e.theme.fontSizes.small})),de=function(){var e=Object(a.useState)(!0),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)([]),l=Object(c.a)(i,2),u=l[0],s=l[1],m=Object(h.g)().url;return Object(a.useEffect)((function(){ne.get("/volunteers").then((function(e){console.log("vlist response",e),s(e.data),o(!1)}))}),[]),n?r.a.createElement(G,null):r.a.createElement(le,null,r.a.createElement(ue,null,"Volunteers"),u.map((function(e){return r.a.createElement(Q,{key:e.id},r.a.createElement("h2",null,r.a.createElement(se,{to:"".concat(m,"/").concat(e.id)},e.name)," / ",r.a.createElement("a",{href:"mailto:".concat(e.user_name)},e.user_name)),r.a.createElement(me,null,e.description),r.a.createElement(me,null,e.location))})))};function he(){var e=Object(l.a)(["\nmargin: auto;\nmax-width: 1000px;\nfont-size: ","\n"]);return he=function(){return e},e}var pe=m.b.p(he(),(function(e){return e.theme.fontSizes.medium})),fe=function(e){return r.a.createElement(pe,null,"The Childhood Cancer Directory links children with cancer to helpful people and resources. If you are a childhood cancer patient, or the caretaker of one, please signup as a Patient. We\u2019ll email you to learn how we can help. If you want to support children with cancer during and/or after the COVID-19 Pandemic, please signup as a Volunteer. We\u2019ll email you to explain how you can help.")};function ge(){var e=Object(l.a)(["\nfont-size: ","\n"]);return ge=function(){return e},e}function be(){var e=Object(l.a)(["\ncolor:black;\ntext-decoration: none;\n"]);return be=function(){return e},e}function ve(){var e=Object(l.a)(["\nmargin-left: 2%;\n"]);return ve=function(){return e},e}function Ee(){var e=Object(l.a)([""]);return Ee=function(){return e},e}var ye=m.b.div(Ee()),Oe=m.b.h1(ve()),je=Object(m.b)(d.b)(be()),Ce=m.b.p(ge(),(function(e){return e.theme.fontSizes.small})),xe=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(!0),l=Object(c.a)(i,2),u=l[0],s=l[1],m=Object(h.g)().url;return Object(a.useEffect)((function(){ne.get("/patients").then((function(e){o(e.data),s(!1)}))}),[]),u?r.a.createElement(G,null):r.a.createElement(ye,null,r.a.createElement(fe,null),r.a.createElement(Oe,null,"Patients"),n.map((function(e){return r.a.createElement(Q,{key:e.id},r.a.createElement("h2",null,r.a.createElement(je,{to:"".concat(m,"/").concat(e.id)},e.name)," / ",r.a.createElement("a",{href:"mailto:".concat(e.user_name)},e.user_name)),r.a.createElement(Ce,null,e.description),r.a.createElement(Ce,null,e.location))})))},we=n(20),Se=n(21),ke=n(22),Pe=n(23);function Te(){var e=Object(l.a)(["\ncolor: #c81e1e;\nborder: 1px solid #f98080;\nbackground-color: #fde8e8;\nborder-radius: 5px;\ntext-align: center;\npadding: 2px;\n"]);return Te=function(){return e},e}var De=m.b.div(Te()),Fe=function(e){return r.a.createElement(De,null,r.a.createElement("h2",null,"Error"),r.a.createElement("span",null,e.message))};function Ne(){var e=Object(l.a)(["\npadding: 7px;\ndisplay: flex;\nflex-direction: column;\n& > * {\n  padding:5px;\n}\n"]);return Ne=function(){return e},e}function Me(){var e=Object(l.a)(["\nbackground-color: ",";\nmax-width: 400px;\nmargin: auto;\ndisplay: flex;\nflex-direction: column;\npadding: 2%;\nborder-raduius: 5px;\n"]);return Me=function(){return e},e}function He(){var e=Object(l.a)(["\ndisplay: flex;\nflex-direction: column;\nheight: 60%;\n"]);return He=function(){return e},e}var ze=m.b.div(He()),Ue=m.b.form(Me(),(function(e){return e.theme.colors.main})),Le=m.b.div(Ne()),_e=function(e){Object(Pe.a)(n,e);var t=Object(ke.a)(n);function n(e){var a;return Object(we.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){a.setState({loading:!0}),ne.post("/signin",{username:a.state.email,password:a.state.password}).then((function(e){var t=s.a.decode(e.data);a.context.setUser(t),ee(e.data),a.state.rememberMe&&localStorage.setItem("token",e.data),t.isPatient?a.props.history.push("/volunteers"):a.props.history.push("/patients")})).catch((function(e){console.log("in catch",e),a.setState({error:e.response.data,loading:!1})})),e.preventDefault()},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handleRememberMeChange=function(e){a.setState({rememberMe:e.target.checked})},a.state={email:"",password:"",error:null,loading:!1,rememberMe:!1},a}return Object(Se.a)(n,[{key:"render",value:function(){return this.state.loading?r.a.createElement(G,null):r.a.createElement(ze,null,this.state.error&&r.a.createElement(Fe,{message:this.state.error}),r.a.createElement(Ue,{onSubmit:this.handleSubmit},r.a.createElement(Le,null,r.a.createElement("label",{htmlFor:"loginEmail"},"User Name(email)"),r.a.createElement("input",{id:"loginEmail",type:"text",required:!0,value:this.state.email,onChange:this.handleEmailChange})),r.a.createElement(Le,null,r.a.createElement("label",{htmlFor:"loginPassword"},"password"),r.a.createElement("input",{id:"loginPassword",type:"password",required:!0,value:this.state.password,onChange:this.handlePasswordChange})),r.a.createElement(Le,null,r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"loginRememberMe"},"Remember me"),r.a.createElement("input",{id:"loginRememberMe",type:"checkbox",checked:this.state.rememberMe,onChange:this.handleRememberMeChange}))),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),n}(r.a.Component);_e.contextType=f;var Re=Object(h.h)(_e),qe=n(51);function Ie(){var e=Object(l.a)(["\npadding-left:20px;\n"]);return Ie=function(){return e},e}var Ve=m.b.div(Ie()),We=function(e){return r.a.createElement("div",null,r.a.createElement("h2",null,e.header),e.helpTypes.map((function(t){return r.a.createElement(Ve,{key:t.id},r.a.createElement("label",{htmlFor:"helpType".concat(t.id)},"".concat(t.name),r.a.createElement("input",{key:t.id,checked:e.checked.has(t.id),id:"helpType_".concat(t.id),type:"checkbox",name:t.name,onChange:e.handleChange})))})))};function Ae(){var e=Object(l.a)(["\nbackground-color: ",";\ndisplay: flex;\nflex-direction: column;\nmax-width: 700px;\nborder-radius: 5px;\npadding-left: 2.5rem;\npadding-right: 2.5rem;\nmargin-left: auto;\nmargin-right: auto;\nmargin-bottom: 2.5rem;\n"]);return Ae=function(){return e},e}var Je=m.b.form(Ae(),(function(e){return e.theme.colors.main}));function $e(){var e=Object(l.a)(["\npadding: 20px;\nborder-bottom: 2px solid grey;\n"]);return $e=function(){return e},e}var Be=m.b.div($e()),Ge=function(e){Object(Pe.a)(n,e);var t=Object(ke.a)(n);function n(e){var a;return Object(we.a)(this,n),(a=t.call(this,e)).handlePatientChange=function(){a.setState({isPatient:!a.state.isPatient})},a.handleRememberMeChange=function(e){a.setState({rememberMe:e.target.checked})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.handleHelpChange=function(e){var t=parseInt(e.target.id.match(/\d+$/)[0],10),n=new Set(a.state.checkedHelpTypes);e.target.checked?n.add(t):n.delete(t),a.setState({checkedHelpTypes:n},(function(){console.log("after help change",a.state.checkedHelpTypes)}))},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handlePasswordConfChange=function(e){a.setState({passwordConf:e.target.value})},a.handleLocationChange=function(e){a.setState({location:e.target.value})},a.handleSubmit=function(e){if(e.preventDefault(),a.state.password===a.state.passwordConf){a.setState({loading:!0});var t=Object(qe.a)(a.state.checkedHelpTypes);console.log("help types in submit",t),ne.post("/signup",{name:a.state.name,username:a.state.username,password:a.state.password,location:a.state.location,description:a.state.description,isPatient:a.state.isPatient,helpTypeIds:t}).then((function(e){var t=s.a.decode(e.data);a.context.setUser(t),a.state.rememberMe&&localStorage.set("token",e.data),ee(e.data),e.data.isPatient?a.props.history.push("/volunteers"):a.props.history.push("/patients")})).catch((function(e){a.setState({error:e.response.data,loading:!1})}))}else a.setState({error:"Passwords do not match"})},a.state={isPatient:!0,name:"",username:"",description:"",password:"",passwordConf:"",location:"",helpTypes:[],loading:!0,checkedHelpTypes:new Set,error:null,rememberMe:!1},a}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("context",this.context),ne.get("/helpTypes").then((function(t){e.setState({helpTypes:t.data,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement(G,null):r.a.createElement(r.a.Fragment,null,this.state.error&&r.a.createElement(Fe,{message:this.state.error}),r.a.createElement(Je,{onSubmit:this.handleSubmit},r.a.createElement(Be,null,r.a.createElement("h2",null,"Which are you?"),r.a.createElement("label",{htmlFor:"signupPatient"},"Patient"),r.a.createElement("input",{id:"signupPatient",value:"patient",name:"signupRadio",type:"radio",checked:this.state.isPatient,onChange:this.handlePatientChange}),r.a.createElement("label",{htmlFor:"signupVolunteer"},"Volunteer"),r.a.createElement("input",{id:"signupVolunteer",value:"volunteer",name:"signupRadio",type:"radio",checked:!this.state.isPatient,onChange:this.handlePatientChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupName"},"Name"),r.a.createElement("input",{type:"text",required:!0,id:"signupName",value:this.state.lastName,onChange:this.handleNameChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupLocation"},"Location"),r.a.createElement("input",{type:"text",required:!0,id:"signupLocation",value:this.state.location,onChange:this.handleLocationChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupDescription"},"About you"),r.a.createElement("textarea",{id:"signupDescription",required:!0,value:this.state.description,onChange:this.handleDescriptionChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupUsername"},"Email"),r.a.createElement("input",{type:"email",id:"signupUsername",required:!0,value:this.state.username,onChange:this.handleUsernameChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupPassword"},"Password"),r.a.createElement("input",{type:"password",id:"signupPassword",required:!0,value:this.state.password,onChange:this.handlePasswordChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupPasswordConf"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"signupPasswordConf",value:this.state.passwordConf,onChange:this.handlePasswordConfChange})),r.a.createElement(Be,null,r.a.createElement(We,{header:"What ".concat(this.state.isPatient?"do you need":"can you"," help with?"),helpTypes:this.state.helpTypes,checked:this.state.checkedHelpTypes,handleChange:this.handleHelpChange})),r.a.createElement(Be,null,r.a.createElement("label",{htmlFor:"signupRememberMe"},"Remember me"),r.a.createElement("input",{type:"checkbox",id:"signupRememberMe",checked:this.state.rememberMe,onChange:this.handleRememberMeChange})),r.a.createElement("input",{type:"submit",value:"Sign up"})))}}]),n}(r.a.Component);Ge.contextType=f;var Ke=Object(h.h)(Ge),Qe=n(71),Xe=n.n(Qe),Ye=n(132);function Ze(){var e=Object(l.a)(["\n  width: auto;\n  max-width: 200px;\n"]);return Ze=function(){return e},e}function et(){var e=Object(l.a)(["\npadding: 2px;\n"]);return et=function(){return e},e}function tt(){var e=Object(l.a)(["\nmargin-left: auto;\nmargin-right: auto;\n"]);return tt=function(){return e},e}function nt(){var e=Object(l.a)(["\npadding: 10px;\nborder-bottom: 2px solid grey;\n"]);return nt=function(){return e},e}function at(){var e=Object(l.a)(["\nbackground-color:  ",";\ndisplay: flex;\nflex-direction: column;\nmax-width: 700px;\nborder-radius: 5px;\npadding-left: 2.5rem;\npadding-right: 2.5rem;\nmargin-left: auto;\nmargin-right: auto;\n"]);return at=function(){return e},e}var rt=m.b.div(at(),(function(e){return e.theme.colors.main})),ot=m.b.div(nt()),it=m.b.h2(tt()),ct=m.b.div(et()),lt=m.b.button(Ze()),ut=function(){var e=Object(h.f)().id,t=Object(a.useState)(!0),n=Object(c.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)(null),u=Object(c.a)(l,2),s=u[0],m=u[1],p=Object(a.useState)(null),g=Object(c.a)(p,2),b=(g[0],g[1],Object(a.useState)(!1)),v=Object(c.a)(b,2),E=v[0],y=v[1];if(Object(a.useEffect)((function(){ne.get("/patients/".concat(e)).then((function(e){m(e.data),i(!1)})).catch((function(e){console.log(e)}))}),[]),o)return r.a.createElement(G,null);var O=function(){var e=Object(Ye.a)(Xe.a.mark((function e(t,n){var a;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.post("patients/".concat(t,"/volunteers/").concat(n));case 2:a=e.sent,m(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(f.Consumer,null,(function(e){return r.a.createElement(rt,null,r.a.createElement(it,null,s.name),r.a.createElement(ot,null,"Location: ",s.location),r.a.createElement(ot,null,"About: ",s.description),r.a.createElement("div",null,r.a.createElement(it,null,"Needs help with:"),s.help_types.map((function(e){return r.a.createElement("div",{key:e.id},e.name)})),r.a.createElement(it,null,"People helping:"),s.network.map((function(t){return t.id===e.id&&y(!0),r.a.createElement(ct,{key:t.id},r.a.createElement(d.b,{to:"/volunteers/".concat(t.id)},t.name))}))),!1===e.user.is_patient&&!1===E&&r.a.createElement(lt,{onClick:function(){O(s.id,e.user.id)}},"Help this person"))}))};function st(){var e=Object(l.a)(["\nmargin-left: auto;\nmargin-right: auto;\n"]);return st=function(){return e},e}function mt(){var e=Object(l.a)(["\npadding: 2px;\n"]);return mt=function(){return e},e}function dt(){var e=Object(l.a)(["\npadding: 10px;\nborder-bottom: 2px solid grey;\n"]);return dt=function(){return e},e}function ht(){var e=Object(l.a)(["\nbackground-color:  ",";\ndisplay: flex;\nflex-direction: column;\nmax-width: 700px;\nborder-radius: 5px;\npadding-left: 2.5rem;\npadding-right: 2.5rem;\nmargin-left: auto;\nmargin-right: auto;\n"]);return ht=function(){return e},e}var pt=m.b.div(ht(),(function(e){return e.theme.colors.main})),ft=m.b.div(dt()),gt=m.b.div(mt()),bt=m.b.h2(st()),vt=function(){var e=Object(h.f)().id,t=Object(a.useState)(!0),n=Object(c.a)(t,2),o=n[0],i=n[1],l=Object(a.useState)(null),u=Object(c.a)(l,2),s=u[0],m=u[1],p=Object(a.useState)(null),f=Object(c.a)(p,2),g=(f[0],f[1]);return Object(a.useEffect)((function(){ne.get("/volunteers/".concat(e)).then((function(e){m(e.data),i(!1),g(null)})).catch((function(e){i(!1),g(e.response.data)}))}),[]),o?r.a.createElement(G,null):r.a.createElement(pt,null,r.a.createElement(bt,null,s.name),r.a.createElement(ft,null,"Location: ",s.location," "),r.a.createElement(ft,null,"About: ",s.description," "),r.a.createElement(ft,null,r.a.createElement(bt,null,"Able to help with:"),s.help_types.map((function(e){return r.a.createElement("div",{key:e.id},e.name)}))),r.a.createElement(bt,null,"Currently helping:"),s.network.map((function(e){return r.a.createElement(gt,{key:e.id},r.a.createElement(d.b,{to:"/patients/".concat(e.id)},e.name))})))},Et=n(31);function yt(){var e=Object(l.a)(["\n display: flex;\n flex-direction: column;\n background-color: ",";\n padding-left: 2.5rem;\n padding-right: 2.5rem;\n"]);return yt=function(){return e},e}var Ot=m.b.form(yt(),(function(e){return e.theme.colors.main})),jt=function(e){Object(Pe.a)(n,e);var t=Object(ke.a)(n);function n(e){var a;return Object(we.a)(this,n),(a=t.call(this,e)).state={name:"",description:"",open:!1},a.handleNameChange=a.handleNameChange.bind(Object(Et.a)(a)),a.handleDescriptionChange=a.handleDescriptionChange.bind(Object(Et.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(Et.a)(a)),a}return Object(Se.a)(n,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;ne.post("/offers",{name:this.state.name,description:this.state.description}).then((function(e){t.props.history.push("/offers")})),e.preventDefault()}},{key:"render",value:function(){return r.a.createElement(Ot,{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"offerName"}," Name "),r.a.createElement("textarea",{id:"offerName",value:this.state.name,onChange:this.handleNameChange}),r.a.createElement("label",{htmlFor:"offerDescription"},"Description"),r.a.createElement("textarea",{id:"offerDescription",value:this.state.description,onChange:this.handleDescriptionChange}),r.a.createElement("input",{type:"submit",value:"Submit"}))}}]),n}(r.a.Component),Ct=Object(h.h)(jt);function xt(){var e=Object(l.a)(["\npadding: 20px;\nborder-bottom: 2px solid grey;\n"]);return xt=function(){return e},e}var wt=m.b.div(xt()),St=function(e){Object(Pe.a)(n,e);var t=Object(ke.a)(n);function n(e){var a;return Object(we.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),ne.post("/users/edit",{name:a.state.name,description:a.state.description,location:a.state.location,username:a.state.username,password:a.state.password,id:a.context.user.id,helpTypeIds:Object(qe.a)(a.state.checkedHelpTypes)}).then((function(e){a.context.setUser(e.data),ee(e.data.token),a.props.history.push("/patients")})).catch((function(e){console.log("an error occured")}))},a.handleHelpChange=function(e){console.log("event in handle help change",e.target);var t=parseInt(e.target.id.match(/\d+$/)[0],10),n=new Set(a.state.checkedHelpTypes);e.target.checked?n.add(t):n.delete(t),a.setState({checkedHelpTypes:n})},a.handlePatientChange=function(){a.setState({isPatient:!a.state.isPatient})},a.handleDescriptionChange=function(e){a.setState({description:e.target.value})},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handleUsernameChange=function(e){a.setState({username:e.target.value})},a.handlePasswordChange=function(e){a.setState({password:e.target.value})},a.handlePasswordConfChange=function(e){a.setState({passwordConf:e.target.value})},a.handleLocationChange=function(e){a.setState({location:e.target.value})},a.state={isPatient:!0,name:"",username:"",description:"",password:"",passwordConf:"",location:"",helpTypes:[],loading:!0,checkedHelpTypes:new Set,error:null},a}return Object(Se.a)(n,[{key:"componentDidMount",value:function(){var e=this;console.log("context",this.context),ne.get("/helpTypes").then((function(t){var n=e.context.user;n.user_name||e.props.history.push("/signin"),console.log("context in user profile",n),e.setState({location:n.location,helpTypes:t.data,loading:!1,checkedHelpTypes:new Set(e.context.user.help_types.map((function(e){return e.id}))),name:n.name,description:n.description,username:n.user_name})})).catch((function(e){console.log("error in userprofile",e)}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement(G,null):r.a.createElement(Je,{onSubmit:this.handleSubmit},r.a.createElement(wt,null,r.a.createElement("label",{htmlFor:"profileName"},"Name"),r.a.createElement("input",{type:"text",required:!0,id:"profileName",value:this.state.name,onChange:this.handleNameChange})),r.a.createElement(wt,null,r.a.createElement("label",{htmlFor:"profileLocation"},"Location"),r.a.createElement("input",{type:"text",required:!0,id:"profileLocation",value:this.state.location,onChange:this.handleLocationChange})),r.a.createElement(wt,null,r.a.createElement("label",{htmlFor:"profileDescription"},"Description"),r.a.createElement("textarea",{id:"profileDescription",required:!0,value:this.state.description,onChange:this.handleDescriptionChange})),r.a.createElement(wt,null,r.a.createElement("label",{htmlFor:"profileUsername"},"Email"),r.a.createElement("input",{type:"email",id:"profileUsername",required:!0,value:this.state.username,onChange:this.handleUsernameChange})),r.a.createElement(wt,null,r.a.createElement("label",{htmlFor:"profilePassword"},"Password (leave blank to not change)"),r.a.createElement("input",{type:"password",id:"profilePassword",value:this.state.password,onChange:this.handlePasswordChange})),r.a.createElement(wt,null,r.a.createElement("label",{htmlFor:"profilePasswordConf"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"profilePasswordConf",value:this.state.passwordConf,onChange:this.handlePasswordConfChange})),r.a.createElement(We,{header:"Help types",helpTypes:this.state.helpTypes,handleChange:this.handleHelpChange,checked:this.state.checkedHelpTypes}),r.a.createElement("input",{type:"submit",value:"save"}))}}]),n}(r.a.Component);St.contextType=f;var kt=Object(h.h)(St),Pt=[{path:"/users/edit",exact:!0,component:r.a.createElement(kt,null)},{path:"/volunteers/:id",exact:!1,component:r.a.createElement(vt,null)},{path:"/patients/:id",exact:!1,component:r.a.createElement(ut,null)},{path:"/offers/new",exact:!1,component:r.a.createElement(Ct,null)},{path:"/",exact:!0,component:r.a.createElement(xe,null)},{path:"/volunteers",exact:!0,component:r.a.createElement(de,null)},{path:"/offers",exact:!1,component:r.a.createElement(ae,null)},{path:"/patients",exact:!0,component:r.a.createElement(xe,null)},{path:"/signin",exact:!1,component:r.a.createElement(Re,null)},{path:"/signup",exact:!1,component:r.a.createElement(Ke,null)}],Tt={colors:{main:"#e1e3e8",secondary:"#303C6C",accent:"#F4976C"},fontSizes:{small:"1rem",medium:"1.5rem",large:"2rem"},footerSize:"5vh",headerSize:"5vh"};function Dt(){var e=Object(l.a)(["\nmin-height: calc(100% - ("," + ","));\n"]);return Dt=function(){return e},e}function Ft(){var e=Object(l.a)(["\nheight: 96vh;\n"]);return Ft=function(){return e},e}var Nt=m.b.div.attrs((function(e){return{className:"App"}}))(Ft()),Mt=m.b.div(Dt(),(function(e){return e.theme.headerSize}),(function(e){return e.theme.footerSize}));var Ht=function(){var e=Object(a.useState)({}),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){var e=localStorage.getItem("token");if(e){var t=s.a.decode(e);ee(e),o(t)}}),[]),r.a.createElement(Nt,null,r.a.createElement(m.a,{theme:Tt},r.a.createElement(f.Provider,{value:{user:n,setUser:o}},r.a.createElement(d.a,null,r.a.createElement(H,null),r.a.createElement(Mt,null,r.a.createElement(h.c,null,Pt.map((function(e,t){return r.a.createElement(h.a,{key:t,path:e.path,exact:e.exact},e.component)})))),r.a.createElement(R,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ht,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,n){e.exports=n.p+"static/media/HandsPurple.81645415.png"}},[[134,1,2]]]);
//# sourceMappingURL=main.94e80c9c.chunk.js.map